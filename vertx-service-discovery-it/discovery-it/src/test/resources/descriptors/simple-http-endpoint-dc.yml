---
  kind: "DeploymentConfig"
  apiVersion: "v1"
  metadata:
    name: "simple-http-endpoint"
    labels:
      name: "simple-http-endpoint"
      project: "simple-http-endpoint"
  spec:
    stategy: "Recreate"
    triggers:
      -
        type: "ConfigChange"
    replicas: 1
    selector:
      name: "simple-http-endpoint"
      project: "simple-http-endpoint"
    template:
      metadata:
        name: "simple-http-endpoint"
        labels:
          name: "simple-http-endpoint"
          project: "simple-http-endpoint"
      spec:
            containers:
            - env:
              - name: KUBERNETES_NAMESPACE
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.namespace
              - name: JAVA_APP_DIR
                value: /deployments
              image: 172.30.124.75:5000/default/simple-http-endpoint:latest
              imagePullPolicy: IfNotPresent
              name: java-exec
              ports:
              - containerPort: 8080
                name: http
                protocol: TCP
              - containerPort: 9779
                name: prometheus
                protocol: TCP
              - containerPort: 8778
                name: jolokia
                protocol: TCP
              securityContext:
                privileged: false
